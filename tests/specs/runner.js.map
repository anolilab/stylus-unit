{"version":3,"sources":["../../src/runner.js"],"names":[],"mappings":";;;;;;sBAAmB,QAAQ;;;;oBACV,MAAM;;;;qBACK,SAAS;;sBACV,UAAU;;;;sBAChB,UAAU;;;;;;oBAGR,MAAM;;;;;;;;;;;;AAW7B,SAAS,WAAW,CAAC,MAAM,EAAE,QAAQ,EAAE;AACrC,MAAM,SAAS,GAAG,oBAAO,MAAM,CAC7B,kBAAK,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,YAAY,CAAC,qBAE7C,CAAC;;AAEF,sBAAO,IAAI,CACT,oBAAO,OAAO,CACZ,oBAAO,GAAG,CAAC,SAAS,sBAAW,CAChC,EACD,QAAQ,CACT,CAAC;CACH;;;;;;;;;;qBASc,UAAS,MAAM,EAAE;AAC9B,UAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,YAAW;AACnC,eAAW,CAAC,MAAM,EAAE,UAAS,IAAI,EAAE;AACjC,QAAE,CAAC,IAAI,CAAC,WAAW,EAAE,YAAW;AAC9B,4BACE,IAAI,CAAC,WAAW,EAChB,MAAM,CAAC,MAAM,EACb,UAAS,SAAS,EAAE;AAClB,mBAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1C,CACF,CAAC;OACH,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ","file":"runner.js","sourcesContent":["import lodash from 'lodash';\nimport glob from 'glob';\nimport { isEmptyFile } from './utils';\nimport stylusRenderer from './stylus';\nimport getTests from './parser';\n\n/* eslint-disable */ /* jshint ignore:start */\nimport { should } from 'chai';\n/* jshint ignore:end */ /* eslint-enable */\n\n/**\n * Search for all tests.\n *\n * @param  {Array}    config\n * @param  {Function} callback\n *\n * @return {[type]}\n */\nfunction forEachTest(config, callback) {\n  const testFiles = lodash.reject(\n    glob.sync(config.testDirPath + '/**/*.styl'),\n    isEmptyFile\n  );\n\n  lodash.each(\n    lodash.flatten(\n      lodash.map(testFiles, getTests)\n    ),\n    callback\n  );\n}\n\n/**\n * Run stylus tests by mocha.\n *\n * @param  {Array} config\n *\n * @return {[type]}\n */\nexport default function(config) {\n  describe(config.describe, function() {\n    forEachTest(config, function(test) {\n      it(test.description, function() {\n        stylusRenderer(\n          test.givenStylus,\n          config.stylus,\n          function(actualCss) {\n            actualCss.should.equal(test.expectedCss);\n          }\n        );\n      });\n    });\n  });\n}\n"]}