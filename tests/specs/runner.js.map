{"version":3,"sources":["../../src/runner.js"],"names":[],"mappings":";;;;;;sBAAmB,QAAQ;;;;oBACV,MAAM;;;;qBACK,SAAS;;sBACV,UAAU;;;;sBAChB,UAAU;;;;;;oBAGR,MAAM;;;;;;;;;;;;AAW7B,SAAS,WAAW,CAAC,MAAM,EAAE,QAAQ,EAAE;AACrC,MAAM,SAAS,GAAG,oBAAO,MAAM,CAC7B,kBAAK,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,YAAY,CAAC,qBAE7C,CAAC;;AAEF,sBAAO,IAAI,CACT,oBAAO,OAAO,CACZ,oBAAO,GAAG,CAAC,SAAS,sBAAW,CAChC,EACD,QAAQ,CACT,CAAC;CACH;;;;;;;;;;qBASc,UAAS,MAAM,EAAE;AAC9B,UAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,YAAW;AACnC,eAAW,CAAC,MAAM,EAAE,UAAS,IAAI,EAAE;AACjC,QAAE,CAAC,IAAI,CAAC,WAAW,EAAE,YAAW;AAC9B,4BACE,IAAI,CAAC,WAAW,EAChB,MAAM,CAAC,MAAM,EACb,UAAS,SAAS,EAAE;AAClB,mBAAS,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC1C,CACF,CAAC;OACH,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ","file":"runner.js","sourcesContent":["import lodash from 'lodash';\r\nimport glob from 'glob';\r\nimport { isEmptyFile } from './utils';\r\nimport stylusRenderer from './stylus';\r\nimport getTests from './parser';\r\n\r\n/* eslint-disable */ /* jshint ignore:start */\r\nimport { should } from 'chai';\r\n/* jshint ignore:end */ /* eslint-enable */\r\n\r\n/**\r\n * Search for all tests.\r\n *\r\n * @param  {Array}    config\r\n * @param  {Function} callback\r\n *\r\n * @return {[type]}\r\n */\r\nfunction forEachTest(config, callback) {\r\n  const testFiles = lodash.reject(\r\n    glob.sync(config.testDirPath + '/**/*.styl'),\r\n    isEmptyFile\r\n  );\r\n\r\n  lodash.each(\r\n    lodash.flatten(\r\n      lodash.map(testFiles, getTests)\r\n    ),\r\n    callback\r\n  );\r\n}\r\n\r\n/**\r\n * Run stylus tests by mocha.\r\n *\r\n * @param  {Array} config\r\n *\r\n * @return {[type]}\r\n */\r\nexport default function(config) {\r\n  describe(config.describe, function() {\r\n    forEachTest(config, function(test) {\r\n      it(test.description, function() {\r\n        stylusRenderer(\r\n          test.givenStylus,\r\n          config.stylus,\r\n          function(actualCss) {\r\n            actualCss.should.equal(test.expectedCss);\r\n          }\r\n        );\r\n      });\r\n    });\r\n  });\r\n}\r\n"]}